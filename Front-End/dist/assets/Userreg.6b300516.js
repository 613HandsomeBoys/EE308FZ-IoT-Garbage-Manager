import{f,l as F,_ as k,r as n,o as c,c as x,b as l,w as t,d,g as w,h as y,p as E,e as U,a as B}from"./index.05f92f92.js";const R={data(){return{active:0,form:f({name:"",gender:"",date:"",email:"",phone:"",identify:"",remark:""}),account:f({username:"",password:"",confirm:""}),rules:f({username:[{validator:this.checkName,trigger:"blur"}],password:[{validator:this.validatePass1,trigger:"blur"}],confirm:[{validator:this.validatePass2,trigger:"blur"}]})}},methods:{resethandle1:function(){this.$refs.mesRef.resetFields()},resethandle2:function(){this.$refs.ruleRef.resetFields()},submit:function(){!this.$refs.ruleRef||this.$refs.ruleRef.validate(a=>{if(a)this.$http.post("/registerUser",F.stringify({username:this.account.username,password:this.account.password})).then(function(e){alert(e.data.message)}).catch(function(e){alert("net error")}),this.$router.replace("/");else return alert("\u8BF7\u6B63\u786E\u8F93\u5165\u4FE1\u606F"),!1})},checkName:function(a,e,s){e===""?s(new Error("Please input the uesrname")):s()},validatePass1:function(a,e,s){if(e==="")s(new Error("Please input the password"));else{if(this.account.confirm!==""){if(!this.$refs.ruleRef)return;this.$refs.ruleRef.validateField("confirm",()=>null)}s()}},validatePass2:function(a,e,s){e===""?s(new Error("Please input the password again")):e!==this.account.password?s(new Error("Two inputs don't match!")):s()}}};const P=a=>(E("data-v-ef13c7b7"),a=a(),U(),a),N={id:"background"},D=P(()=>B("a",null,"\u5DF2\u6709\u8D26\u53F7\uFF1F",-1));function I(a,e,s,S,o,p){const m=n("el-button"),_=n("el-row"),V=n("el-step"),g=n("el-steps"),i=n("el-input"),u=n("el-form-item"),b=n("el-option"),h=n("el-select"),C=n("el-date-picker"),v=n("el-form");return c(),x("div",N,[l(_,{type:"flex",justify:"end"},{default:t(()=>[D,l(m,{size:"small",type:"primary",onClick:e[0]||(e[0]=r=>{this.$router.replace("/")})},{default:t(()=>[d("\u767B\u5F55")]),_:1})]),_:1}),l(g,{active:o.active,"align-center":"","finish-status":"success"},{default:t(()=>[l(V,{title:"\u7528\u6237\u4FE1\u606F\u91C7\u96C6"}),l(V,{title:"\u7528\u6237\u8D26\u53F7\u6CE8\u518C"})]),_:1},8,["active"]),l(_,{type:"flex",justify:"center"},{default:t(()=>[o.active==0?(c(),w(v,{key:0,model:o.form,ref:"mesRef",class:"form1","label-position":"top",size:"large",style:{width:"500px",margin:"60px"}},{default:t(()=>[l(u,{label:"\u7528\u6237\u59D3\u540D",prop:"name"},{default:t(()=>[l(i,{modelValue:o.form.name,"onUpdate:modelValue":e[1]||(e[1]=r=>o.form.name=r),placeholder:"\u5F20\u4E09"},null,8,["modelValue"])]),_:1}),l(u,{label:"\u7528\u6237\u6027\u522B:",prop:"gender"},{default:t(()=>[l(h,{modelValue:o.form.gender,"onUpdate:modelValue":e[2]||(e[2]=r=>o.form.gender=r)},{default:t(()=>[l(b,{label:"\u7537",value:"\u7537"}),l(b,{label:"\u5973",value:"\u5973"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"\u7528\u6237\u751F\u65E5:",prop:"date"},{default:t(()=>[l(C,{modelValue:o.form.date,"onUpdate:modelValue":e[3]||(e[3]=r=>o.form.date=r),type:"date",placeholder:"?.?.?"},null,8,["modelValue"])]),_:1}),l(u,{label:"\u7528\u6237\u90AE\u7BB1:",prop:"email"},{default:t(()=>[l(i,{modelValue:o.form.email,"onUpdate:modelValue":e[4]||(e[4]=r=>o.form.email=r),type:"email",placeholder:"...@...com",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"\u7528\u6237\u53F7\u7801:",prop:"phone"},{default:t(()=>[l(i,{modelValue:o.form.phone,"onUpdate:modelValue":e[5]||(e[5]=r=>o.form.phone=r),placeholder:".....",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"\u7528\u6237\u804C\u4E1A:",prop:"identify"},{default:t(()=>[l(i,{modelValue:o.form.identify,"onUpdate:modelValue":e[6]||(e[6]=r=>o.form.identify=r),placeholder:"\u5B66\u751F",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"\u7528\u6237\u5907\u6CE8:",prop:"remark"},{default:t(()=>[l(i,{modelValue:o.form.remark,"onUpdate:modelValue":e[7]||(e[7]=r=>o.form.remark=r),placeholder:"\u5907\u6CE8",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{style:{margin:"50px 0"}},{default:t(()=>[l(m,{type:"primary",onClick:e[8]||(e[8]=r=>o.active++)},{default:t(()=>[d("next")]),_:1}),l(m,{onClick:p.resethandle1},{default:t(()=>[d("Reset")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])):y("",!0),o.active==1?(c(),w(v,{key:1,model:o.account,ref:"ruleRef",rules:o.rules,"label-position":"top",size:"large",style:{width:"500px",margin:"60px"}},{default:t(()=>[l(u,{label:"Username:",prop:"username"},{default:t(()=>[l(i,{modelValue:o.account.username,"onUpdate:modelValue":e[9]||(e[9]=r=>o.account.username=r),clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"Password:",prop:"password"},{default:t(()=>[l(i,{modelValue:o.account.password,"onUpdate:modelValue":e[10]||(e[10]=r=>o.account.password=r),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"Confirm:",prop:"confirm"},{default:t(()=>[l(i,{modelValue:o.account.confirm,"onUpdate:modelValue":e[11]||(e[11]=r=>o.account.confirm=r),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{style:{margin:"50px 0"}},{default:t(()=>[l(m,{type:"primary",onClick:p.submit},{default:t(()=>[d("Submit")]),_:1},8,["onClick"]),l(m,{onClick:e[12]||(e[12]=r=>o.active--)},{default:t(()=>[d("Previous step")]),_:1}),l(m,{onClick:p.resethandle2},{default:t(()=>[d("Reset")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])):y("",!0)]),_:1})])}const j=k(R,[["render",I],["__scopeId","data-v-ef13c7b7"]]);export{j as default};
