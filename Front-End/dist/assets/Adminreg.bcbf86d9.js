import{f,l as F,_ as k,r as a,o as c,c as E,b as l,w as t,d as m,g as V,h as y,p as x,e as B,a as P}from"./index.05f92f92.js";const R={data(){return{active:0,form:f({name:"",gender:"",date:"",email:"",phone:"",identify:"",remark:""}),account:f({identId:"",username:"",password:"",confirm:""}),rules1:f({name:[{required:!0,message:"Please input your name",trigger:"blur"},{min:2,max:5,message:"Length should be 3 to 5",trigger:"blur"}],gender:[{required:!0,message:"Please select your gender",trigger:"change"}],date:[{type:"date",required:!0,message:"Please select yout birthday",trigger:"blur"}],email:[{required:!0,pattern:/[\w]+(\.[\w]+)*@[\w]+(\.[\w])+/,message:"Please input your email",trigger:"blur"}],phone:[{required:!0,pattern:/^1(3[0-9]|5[0-3,5-9]|7[1-3,5-8]|8[0-9])\d{8}$/,message:"Please input right phone number",trigger:"blur"}],identify:[{required:!0,message:"Please input your identify",trigger:"blur"}]}),rules2:f({identId:[{validator:this.checkId,trigger:"blur"}],username:[{validator:this.checkName,trigger:"blur"}],password:[{validator:this.validatePass1,trigger:"blur"}],confirm:[{validator:this.validatePass2,trigger:"blur"}]})}},methods:{resethandle1:function(){this.$refs.mesRef.resetFields()},resethandle2:function(){this.$refs.ruleRef.resetFields()},submit:function(){!this.$refs.ruleRef||this.$refs.ruleRef.validate(s=>{if(s)this.$http.post("/registerAdmin",F.stringify({username:this.account.username,password:this.account.password})).then(function(e){alert(e.data.message)}).catch(function(e){alert("net error")}),this.$router.replace("/");else return alert("\u8BF7\u6B63\u786E\u8F93\u5165\u4FE1\u606F"),!1})},handleNext:function(){!this.$refs.mesRef||this.$refs.mesRef.validate(s=>{if(s)this.active++;else return alert("\u8BF7\u6B63\u786E\u8F93\u5165\u4FE1\u606F"),!1})},checkId:function(s,e,o){e===""?o(new Error("Please input the Authentication code")):o()},checkName:function(s,e,o){e===""?o(new Error("Please input the uesrname")):o()},validatePass1:function(s,e,o){if(e==="")o(new Error("Please input the password"));else{if(this.account.confirm!==""){if(!this.$refs.ruleRef)return;this.$refs.ruleRef.validateField("confirm",()=>null)}o()}},validatePass2:function(s,e,o){e===""?o(new Error("Please input the password again")):e!==this.account.password?o(new Error("Two inputs don't match!")):o()}}};const A=s=>(x("data-v-830fa119"),s=s(),B(),s),I={id:"background"},U=A(()=>P("a",null,"\u5DF2\u6709\u8D26\u53F7? ",-1));function N(s,e,o,q,r,p){const d=a("el-button"),_=a("el-row"),g=a("el-step"),w=a("el-steps"),i=a("el-input"),n=a("el-form-item"),h=a("el-option"),v=a("el-select"),C=a("el-date-picker"),b=a("el-form");return c(),E("div",I,[l(_,{type:"flex",justify:"end"},{default:t(()=>[U,l(d,{size:"small",type:"primary",onClick:e[0]||(e[0]=u=>{this.$router.replace("/")})},{default:t(()=>[m("\u767B\u5F55")]),_:1})]),_:1}),l(w,{active:r.active,"align-center":"","finish-status":"success"},{default:t(()=>[l(g,{title:"\u7BA1\u7406\u5458\u4FE1\u606F\u91C7\u96C6"}),l(g,{title:"\u7BA1\u7406\u5458\u8D26\u53F7\u6CE8\u518C"})]),_:1},8,["active"]),l(_,{type:"flex",justify:"center"},{default:t(()=>[r.active==0?(c(),V(b,{key:0,model:r.form,ref:"mesRef",class:"form1",rules:r.rules1,"label-position":"top",size:"large",style:{width:"500px",margin:"60px"}},{default:t(()=>[l(n,{label:"\u7BA1\u7406\u5458\u59D3\u540D",prop:"name"},{default:t(()=>[l(i,{modelValue:r.form.name,"onUpdate:modelValue":e[1]||(e[1]=u=>r.form.name=u),placeholder:"\u5F20\u4E09"},null,8,["modelValue"])]),_:1}),l(n,{label:"\u7528\u6237\u6027\u522B:",prop:"gender"},{default:t(()=>[l(v,{modelValue:r.form.gender,"onUpdate:modelValue":e[2]||(e[2]=u=>r.form.gender=u)},{default:t(()=>[l(h,{label:"\u7537",value:"\u7537"}),l(h,{label:"\u5973",value:"\u5973"})]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"\u7528\u6237\u751F\u65E5:",prop:"date"},{default:t(()=>[l(C,{modelValue:r.form.date,"onUpdate:modelValue":e[3]||(e[3]=u=>r.form.date=u),type:"date",placeholder:"?.?.?"},null,8,["modelValue"])]),_:1}),l(n,{label:"\u7528\u6237\u90AE\u7BB1:",prop:"email"},{default:t(()=>[l(i,{modelValue:r.form.email,"onUpdate:modelValue":e[4]||(e[4]=u=>r.form.email=u),type:"email",placeholder:"...@...com",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"\u7528\u6237\u53F7\u7801:",prop:"phone"},{default:t(()=>[l(i,{modelValue:r.form.phone,"onUpdate:modelValue":e[5]||(e[5]=u=>r.form.phone=u),placeholder:".....",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"\u7528\u6237\u804C\u4E1A:",prop:"identify"},{default:t(()=>[l(i,{modelValue:r.form.identify,"onUpdate:modelValue":e[6]||(e[6]=u=>r.form.identify=u),placeholder:"\u5B66\u751F",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"\u7528\u6237\u5907\u6CE8:",prop:"remark"},{default:t(()=>[l(i,{modelValue:r.form.remark,"onUpdate:modelValue":e[7]||(e[7]=u=>r.form.remark=u),placeholder:"\u5907\u6CE8",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{style:{margin:"50px 0"}},{default:t(()=>[l(d,{type:"primary",onClick:p.handleNext},{default:t(()=>[m("next")]),_:1},8,["onClick"]),l(d,{onClick:p.resethandle1},{default:t(()=>[m("Reset")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])):y("",!0),r.active==1?(c(),V(b,{key:1,model:r.account,ref:"ruleRef",rules:r.rules2,"label-position":"top",size:"large",style:{width:"500px",margin:"60px"}},{default:t(()=>[l(n,{label:"\u8EAB\u4EFD\u6821\u9A8C\u7801:",prop:"identId"},{default:t(()=>[l(i,{modelValue:r.account.identId,"onUpdate:modelValue":e[8]||(e[8]=u=>r.account.identId=u),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"username:",prop:"username"},{default:t(()=>[l(i,{modelValue:r.account.username,"onUpdate:modelValue":e[9]||(e[9]=u=>r.account.username=u),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"Password:",prop:"password"},{default:t(()=>[l(i,{modelValue:r.account.password,"onUpdate:modelValue":e[10]||(e[10]=u=>r.account.password=u),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"Confirm:",prop:"confirm"},{default:t(()=>[l(i,{modelValue:r.account.confirm,"onUpdate:modelValue":e[11]||(e[11]=u=>r.account.confirm=u),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{style:{margin:"50px 0"}},{default:t(()=>[l(d,{type:"primary",onClick:p.submit},{default:t(()=>[m("Submit")]),_:1},8,["onClick"]),l(d,{onClick:e[12]||(e[12]=u=>r.active--)},{default:t(()=>[m("Previous step")]),_:1}),l(d,{onClick:p.resethandle2},{default:t(()=>[m("Reset")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])):y("",!0)]),_:1})])}const S=k(R,[["render",N],["__scopeId","data-v-830fa119"]]);export{S as default};
